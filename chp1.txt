第一部 Firebirdの概要


第１章 Firebirdとは

1-1.商用ベースのデータベースから生まれたオープンソースのデータベース
オープンソースのデータベースというと読者のみなさんはPostgreSQLやMySQLなどを思い浮かべると思います。また、商用ベースでは聞かれた場合、Oracle、Sybase、Informix、DB2などを思い浮かべるのではないでしょうか？ボーランド社のJBuilderやDelphiを利用されている人であれば米国Borland Software Corporation社(以下、Borland社と表記）の提供しているInterBaseというデータベースを知っているでしょう。ではFirebirdというデータベースについてはどうでしょうか？もし、Firebirdを知っている人はデータベース製品に非常に詳しい方だと言えるでしょう。この本でこれから説明していくFirebirdはInterBaseをベースとしています。実際は、ベースというよりもInterBaseから生まれたオープンソースのデータベースで、今はInterBaseと完全互換のものであると言っていいと思います。一般的に商用のデータベースがオープンソースとして公開されることはまずありませんが、Firebirdはこんな特殊の経緯の中で生まれた製品です。InterBaseは、欧米では5,6年前までOracleやInformixの競合製品として位置付かれ、ここ2,3年は商用パッケージの組み込み用やワークグループレベルで使用できる管理がほとんどいらないデータベースとして販売されてきた製品です。こんな長い期間基幹系のシステムの信頼性を培うデータを扱うInterBaseからFirebirdは生まれました。そして、2002年3月12日のFirebird Version 1.0の公開以来、数多くの開発者がInterBaseからFirebirdに移行したり、商用ベースの製品を利用していたユーザーがFirebirdの使用を始めています。商用ベースのデータベースから生まれたオープンソースのデータベース、Firebirdの提供する優れた機能を体験してみましょう。


1-2.InterBaseについて
Firebirdを説明する前にBorland社が提供しているInterBaseというデータベースを知らない方のために、InterBaseについて説明していきましょう。
InterBaseは1986年に最初のバージョンがリリースされた非常に歴史のあるリレーショナルデータベースです。InterBaseは当時のInterBase Software Corp.がdBASEを販売していたAshtonTate社への買収、Borland社のAshtonTate社の買収などにより、Borland社の製品となりました。しかし、Borland社のSBU(事業部制）の導入や分社化、そして再吸収などがあり、何度も製品の消滅の危機に陥った製品です。しかし、優れた技術を持つ製品はなくなることはなく、その製品の良さを理解し、非常に大量に使用しているモトローラ社などのビックユーザー、DelphiやJBuilderなどのボーランド社の製品との親和性の高さを高く評価している全世界中の開発者などからの製品継続のリクエストにより、製品がなくなる危機を何度も何度も免れてきました。古くはフィラデルフィア証券取引所での利用から、ニュージーランドのPC Directなどのフランチャイズ店での販売管理システムなど非常に多くの導入事例が存在しています。日本国内でもエアーニッポンの客室乗務員管理システムや乗員情報管理システム、みなさんが病院に行った後に調剤薬局で薬を受け取ると思いますが、そのときに薬の概要や効用などを書かれた紙を受け取ると思いますが、これらの薬の情報及び顧客管理を行っている調剤薬局向けの調剤レセプトシステム、開業医向けの内視鏡検査画像ファイリングシステム、カード会社向けのギフトカードOCRシステム、ソニー・テクトロニクス社のノンリニア・ニュース編集システムであるクイックサーバなど、基幹系・情報系問わず非常に様々な用途で使用されています。
InterBaseがどんな機能を提供しているかはFirebirdの機能説明で行うものとして、InterBaseの特徴を簡単に言い表すと次のようになります。

	・低価格
	・コンパクトでかつパワフルなデータベースエンジン
	・Windows, Linux, Solarisなどのプラットフォームをサポート
	・SQL-99準拠
	・フルUNICODEサポート
	・履歴型アーキテクチャ（バージョニングエンジン）
	・Blob、多次元配列のサポート
	・ストアドプロシージャ、イベント、トリガーなどのアクティブデータベース機能
	・イベントアラータ機能
	・Delphi,C++Builder,JBuilderなどのボーランド社の開発ツールとの高い親和性

InterBaseはどちらかというと、アプリケーション開発者がデータベース管理者を意識することなく、手軽に利用できるデータベースとなっており、プログラムから様々な機能を呼び出せるようになっています。また、これらの特徴はすべてFirebirdにも受け継がれており、アプリケーションとの親和性の高いデータベースとなっています。

InterBaseについて（ボーランド社のWebサイト）
http://www.borland.co.jp/interbase/
InterBaseの導入事例（ボーランド社のWebサイト）
http://www.borland.co.jp/interbase/cases/


1-3.Firebird誕生の経緯
InterBaseについて簡単に説明したので、Firebirdはどのような経緯で生まれたかについて説明しておきましょう。InterBaseはVersion 4の時代まで非常に多くのプラットフォームをサポートしており、より大規模なデータを取り扱える製品としての機能追加を行っていましたが、あまりに多くのプラットフォームをサポートしていることによるメンテナンスコストの増大と他社製品との激しい競争により、ビジネス的にはあまりうまくいっていなかったようです。そこでVersion 5よりプラットフォームを絞り、製品のターゲットも大規模ユーザーではなく、商用アプリケーションパッケージの組み込みエンジンとしての利用、同時接続200ユーザー以下のワークグループレベルのデータベースにターゲットを変更しました。この方向転換は非常に効果的でしたが、開発ツールを主力とするボーランド社の位置づけとInterBaseの方向性に少しずつ乖離が生まれていきました。このような経緯の中、2001年1月3日にボーランド社はInterBaseの最新版となる開発中のInterBase 6.0をオープンソースとしての公開することをアナウンスし、同年7月25日にソースおよびバイナリが公開されました。オープンソースのライセンスとしてはGPL(Gnu Public License)ではなく、Netscape社がNetscapeのソースコードを公開したときに作成したMPL（Mozilla Public License)をベースにしたライセンスポリシーを採用しました。しかし、公開されたソースコードは開発途中のものであっただけでなく、公開されたソースコードをビルドするにはMarrionと呼ばれるボーランド社の内部ツールが必要であったため、ほとんどの開発者には手が出せないものとなっていました。ただし、ソースコードはボーランド社の手によって、オープンソース製品のプロジェクト管理およびソース管理のサイトとして有名なsourceforge.netに登録されました。
ボーランド社のInterBaseのソースコード公開のタイミングと同じくして、Firebirdの開発・サポートを行うFirebirdプロジェクトが結成され、公開されたソースコードをベースに開発が進められていくことになりました。以来、Firebirdプロジェクトには、過去にボーランド社にてInterBaseの開発を行ってきた人、InterBaseの周辺ツールを作ってきた人、ボーランド社の製品とともにInterBaseを使用してきた人など、非常にレベルの高い開発者が集まっており、有志となって拡張・メンテナンスを行っています。ビルドツールが公開されなかったため、プロジェクトの立ち上がりには非常に時間がかかりましたが、2002年3月12日にFirebirdプロジェクトにより、Firebird Version 1.0がリリースされました。Firebird Version 1.0は最初のバージョンであることを踏まえ、InterBase Version 6.0との完全な互換性とInterBase Version 6.0以上の下位互換性を実現することを目標にリリースされており、ほぼこの目標は達成しています。
Firebirdプロジェクトでは本来InterBase Version 7.0で拡張される予定であった機能（ボーランド社が公開していたもの）の追加を行うFirebird Version 2.0の開発をスタートしています。また、使用する言語もCからC++へと移行し、2002年中にFirebird Version 1.0と完全互換で、C++ベースに書き直されたFirebird Version 1.5のリリースを予定しています。


1-4.2つのInterBaseとFirebird
すでに説明したようにFirebird Version 1.0とInterBase Version 6.0はほぼ完全互換になっていますが、InterBase Version 6.0は２種類存在しているので、Firebird Version 1.0との関係について少し混乱することがあります。ここではInterBaseとFirebirdの違いについて説明しましょう。
InterBase Version 6.0にはオープンソース版と商用版の2種類があります。オープンソース版はボーランド社によってsourceforge.netのサイトにてソースコードが公開されているもので、2001年7月に最初のコードが公開され、その後2002年12月に修正されたモジュールが更新されています。2001年7月のときはボーランド社のWebサイトにて、バイナリも公開されましたが、その後はバイナリの公開はなくソースコードだけとなっています。もし、こちらのソースコードを構築したバイナリが欲しい場合は、カナダのMers System社のWebサイトからダウンロードするといいでしょう。
続いてInterBase Version 6.0の商用版はその名の通り、ボーランド社が正式な製品としてパッケージ販売しているものです。パッケージにはODBCドライバやレプリケーションエンジン、印刷されたマニュアルが付属しており、ボーランド社の有償のサポートサービスを受ける権利が付属しています。
つまり、オープンソース版と商用版の違いは付属のツールを使いたい人やベンダーのサポートを受けたい方用のものとなっています。また、ボーランド社は2001年12月にInterBase Version 6.0の次期バージョンであるInterBase Version 6.5をリリースしました。InterBase Version 6.0ではオープンソースとして公開しましたが、その後ボーランド社は方針を転換し、InterBase Version 6.5ではソースコードの公開は行わないこととなりました。そのため、InterBaseのオープンソースでの利用はたった一つのバージョンで終了することになりました。
Firebird Version 1.0は公開されたすべてのInterBase Version 6.0のソースコードをマージしていますので、InterBase Version 6.0 オープンソース版をベースとしたFirebirdが真のオープンソース版InterBaseとして生き続けることになり、さらなる拡張が続けられているのです。
オープンソース版のInterBase Version 6.0およびFirebirdプロジェクトのソースコードはsourceforge.netのサイトからダウンロードすることができます。

オープンソース版InterBase Version 6.0プロジェクト
http://sourceforge.net/projects/interbase/
オープンソース版のInterBaseのバイナリ（Mers Systems社のWebサイト）
http://mers.com/
Firebirdプロジェクト
http://sourceforge.net/projects/firebird/

すでにFirebird Version 1.0とInterBase Version 6.0はほぼ完全互換であり、一卵性双生児のようなものだということを説明しましたが、Firebird Version 1.0にはInterBase Version 6.0にはない64bit I/Oのサポート(Sparc Solaris, x86 Solarisのみ）などが含まれていますが、基本的に商用版InterBase Version 6.0ともほぼ完全互換性を維持しています。ボーランド社がInterBase Version 6.5のソースコードを公開することを辞めたため、Firebirdがその基盤を受け継ぎ、第２のInterBaseとしてオープンソースの世界を突き進んでいます。InterBase Version 6.5が商用版しかリリースされていないことにより、Firebirdの次のversion 2.0では独自路線を歩むことになっています。そのため、少しずつFirebirdとInterBaseは別の道を歩むことになっていくでしょう。しかし、Firebirdプロジェクトはできる限りのInterBaseとの互換性を持つことを重要視しており、プロジェクトには過去にInterBaseの開発を行っていたエンジニアが数多く参加しているため、InterBase以上のInterBaseとしてFirebirdは存続していくことになるでしょう。
FirebirdはInterBaseがサポートしていないFreeBSD,Intel版Solaris,HP-UX, Netware, AIX, MacOS Xなどへのポーティングを行っており、様々なプラットフォームでの利用できるようになっています。これは、InterBaseの古いバージョンを利用しているユーザーをFirebirdに取り込むためでもあります。
また、試験的にWindows CEへのポーティングも開始され、組込用途での活用も検討されています。

Firebird-ceプロジェクト
http://firebird-ce.tigris.org/

表1-4-1.2つのInterBaseとFirebird
	製品名										メンテナンス者			配布形式
-----------------------------------------------------------------------------------------------
	InterBase Version 6.0 	製品版				ボーランド社			有料のパッケージ製品
	InterBase Version 6.0 	オープンソース版	ボーランド社			オープンソース
	Firebird									Firebirdプロジェクト	オープンソース


1-5.IBPhoenix社について
Firebirdの開発にはIBPhoenixという米国の会社が貢献しています。IBPhoenixはオープンソース版InterBaseとFirebirdの貢献のため、これら製品に対する信頼性の高いサポートを供給するために設立されました。IBPhoenixの代表は15年間InterBaseの開発・サポートを行ってきたAnn Harrison氏で、彼女とInterBaseのジェネラルマネージャを行っていたPaul Beach氏によって設立され、米国・英国にて質の高いサポートを提供しています。また、Firebirdの製品の方向性を決めている中心メンバーが属している組織でもあり、Firebirdのさらなる発展と商用データベースとの競争とその戦いに勝っていくための方法を模索しています。オープンソースと商用データベースは共存と競争の原理が働いています。オープンソースは非営利団体や学校などでの活用や将来のエンジニアのための教育で使用されていますが、オープンソース製品がよりよい製品として生きていくためには商用製品との競争に勝っていく必要があります。Firebirdが商用データベースとの競争に勝っていくためには、IBPhoenix社のようなサポートプログラムを行う会社と活発なユーザーグループの両方が必要になります。
IBPhoenix社ではFirebirdのソースとバイナリ、ドキュメント、インストールサポート、IBPhoenix社の開発したODBCドライバを含めたCD-ROMを販売しています。これはちょうどLinuxのディストリビューションパッケージが有償で販売されているのと同様です。
IBPhoenix社のWebサイトはInterBaseとFirebirdに関する製品情報、技術情報、周辺ツール情報、Firebirdのバイナリとソースのダウンロードなどポータルサイトとしての役割を持っています。ただし、開発しているソースコードのツリーは一元管理を行うためすべてsourceforge.netのサイトのCVSで管理されています。Firebirdを使用し続けるためにはIBPhoenix社のサイトを念入りにチェックしていく必要があるでしょう。

IBPhoenix社
http://www.ibphoenix.com/


